/* 모달 가로 크기 최적화 - Modal Width Optimization */

/* 기본 모달 크기 재설정 */
.modal-dialog,
.modal .modal-dialog,
.unified-modal .modal-dialog {
    max-width: none !important;
    width: auto !important;
    min-width: 320px !important;
}

.modal-content,
.modal .modal-content,
.unified-modal .modal-content,
.drive-modal .modal-content,
.sync-modal .modal-content {
    width: auto !important;
    min-width: 320px !important;
    max-width: 95vw !important;
}

/* 생성 모달 - 컴팩트한 폼 */
#createModal .modal-content {
    width: 480px !important;
    max-width: 90vw !important;
}

#createModal .modal-body {
    padding: 28px 32px !important;
}

#createModal .form-input,
#createModal .form-select,
#createModal .form-textarea {
    width: 100% !important;
    max-width: none !important;
}

/* 스티커 메모 버튼 - 가장 작은 크기 */
#memoBtn .modal-content {
    width: 400px !important;
    max-width: 85vw !important;
}

/* 엑셀 내보내기 모달 - 중간 크기 */
#excelModal .modal-content {
    width: 620px !important;
    max-width: 92vw !important;
}

#excelModal .modal-body {
    padding: 32px 36px !important;
}

#excelModal .export-section {
    margin-bottom: 24px !important;
}

#excelModal .form-row {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 16px !important;
    align-items: end !important;
}

#excelModal .checkbox-group {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
    margin-top: 16px !important;
}

/* 클라우드 설정 모달 - 큰 크기 (많은 설정) */
#unifiedCloudModal .modal-content,
#cloudModal .modal-content,
.unified-modal .modal-content {
    width: 720px !important;
    max-width: 95vw !important;
}

#unifiedCloudModal .modal-body,
#cloudModal .modal-body {
    padding: 36px 40px !important;
}

/* 동기화 상태 모달 - 중간 크기 */
#syncStatusModal .modal-content {
    width: 580px !important;
    max-width: 90vw !important;
}

/* 설정 모달 - 중간 크기 */
#settingsModal .modal-content {
    width: 520px !important;
    max-width: 88vw !important;
}

#settingsModal .modal-body {
    padding: 30px 34px !important;
}

#settingsModal .form-group {
    margin-bottom: 24px !important;
}

#settingsModal .size-controls {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 16px !important;
    margin-top: 16px !important;
}

/* 저장소 관리 모달 - 큰 크기 (차트와 상세 정보) */
#storageModal .modal-content {
    width: 680px !important;
    max-width: 94vw !important;
}

#storageModal .modal-body {
    padding: 34px 38px !important;
}

#storageModal .storage-section {
    margin-bottom: 28px !important;
    padding: 28px !important;
}

#storageModal .storage-chart {
    margin: 20px 0 !important;
}

#storageModal .storage-actions {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 16px !important;
}

/* 백업 모달 - 중간-큰 크기 */
#backupModal .modal-content {
    width: 640px !important;
    max-width: 92vw !important;
}

#backupModal .modal-body {
    padding: 32px 36px !important;
}

#backupModal .backup-section {
    margin-bottom: 24px !important;
    padding: 26px !important;
}

/* 메모 관련 모달들 - 작은-중간 크기 */
#memoModal .modal-content,
#dateMemoModal .modal-content {
    width: 500px !important;
    max-width: 88vw !important;
}

#memoDetailModal .modal-content {
    width: 560px !important;
    max-width: 90vw !important;
}

#memoModal .modal-body,
#dateMemoModal .modal-body,
#memoDetailModal .modal-body {
    padding: 30px 32px !important;
}

/* 메모 텍스트 영역 */
#memoModal .memo-textarea,
#dateMemoModal .memo-textarea {
    width: 100% !important;
    min-height: 120px !important;
    resize: vertical !important;
}

/* 반응형 조정 - 태블릿 */
@media (max-width: 768px) {
    .modal-content,
    .modal .modal-content,
    .unified-modal .modal-content {
        width: 95vw !important;
        min-width: 280px !important;
        margin: 0 auto !important;
    }
    
    /* 각 모달별 태블릿 크기 */
    #createModal .modal-content { width: 92vw !important; }
    #excelModal .modal-content { width: 94vw !important; }
    #unifiedCloudModal .modal-content,
    #cloudModal .modal-content { width: 96vw !important; }
    #settingsModal .modal-content { width: 90vw !important; }
    #storageModal .modal-content { width: 95vw !important; }
    #backupModal .modal-content { width: 94vw !important; }
    #memoModal .modal-content,
    #dateMemoModal .modal-content { width: 92vw !important; }
    #memoDetailModal .modal-content { width: 93vw !important; }
    
    /* 패딩 조정 */
    .modal-body,
    .modal .modal-body {
        padding: 24px 20px !important;
    }
    
    /* 그리드 레이아웃 단순화 */
    #excelModal .form-row,
    #excelModal .checkbox-group {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
    
    #settingsModal .size-controls {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
    
    #storageModal .storage-actions {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
}

/* 반응형 조정 - 모바일 */
@media (max-width: 576px) {
    .modal-content,
    .modal .modal-content,
    .unified-modal .modal-content {
        width: 95vw !important;
        min-width: 260px !important;
        margin: 10px auto !important;
        border-radius: 16px !important;
    }
    
    /* 모든 모달 동일한 모바일 크기 */
    #createModal .modal-content,
    #excelModal .modal-content,
    #unifiedCloudModal .modal-content,
    #cloudModal .modal-content,
    #settingsModal .modal-content,
    #storageModal .modal-content,
    #backupModal .modal-content,
    #memoModal .modal-content,
    #dateMemoModal .modal-content,
    #memoDetailModal .modal-content {
        width: 95vw !important;
    }
    
    /* 패딩 최소화 */
    .modal-body,
    .modal .modal-body {
        padding: 20px 16px !important;
        gap: 16px !important;
    }
    
    /* 섹션 패딩 축소 */
    .backup-section,
    .export-section,
    .storage-section,
    .sync-section,
    .cloud-section {
        padding: 20px 18px !important;
        margin-bottom: 16px !important;
    }
    
    /* 버튼 크기 조정 */
    .backup-btn,
    .export-btn,
    .storage-btn,
    .cloud-btn,
    .sync-btn,
    .modal-btn,
    .btn-primary,
    .btn-secondary {
        padding: 12px 16px !important;
        font-size: 14px !important;
        margin-bottom: 10px !important;
    }
    
    /* 폼 요소 조정 */
    .form-input,
    .form-select,
    .form-textarea {
        font-size: 16px !important; /* iOS 줌 방지 */
        padding: 12px 14px !important;
    }
}

/* 초소형 화면 */
@media (max-width: 360px) {
    .modal-content,
    .modal .modal-content {
        width: 98vw !important;
        min-width: 240px !important;
        margin: 5px auto !important;
    }
    
    .modal-body,
    .modal .modal-body {
        padding: 16px 12px !important;
    }
    
    .backup-section,
    .export-section,
    .storage-section {
        padding: 16px 14px !important;
        margin-bottom: 12px !important;
    }
}

/* 대형 화면 최적화 */
@media (min-width: 1200px) {
    /* 큰 화면에서는 최대 크기 제한 */
    #createModal .modal-content { max-width: 500px !important; }
    #excelModal .modal-content { max-width: 680px !important; }
    #unifiedCloudModal .modal-content,
    #cloudModal .modal-content { max-width: 800px !important; }
    #settingsModal .modal-content { max-width: 560px !important; }
    #storageModal .modal-content { max-width: 740px !important; }
    #backupModal .modal-content { max-width: 700px !important; }
    #memoModal .modal-content,
    #dateMemoModal .modal-content { max-width: 540px !important; }
    #memoDetailModal .modal-content { max-width: 600px !important; }
}

/* 초대형 화면 */
@media (min-width: 1600px) {
    /* 매우 큰 화면에서도 적당한 크기 유지 */
    .modal-content,
    .modal .modal-content {
        max-width: 900px !important;
    }
    
    #createModal .modal-content { max-width: 520px !important; }
    #settingsModal .modal-content { max-width: 580px !important; }
    #memoModal .modal-content,
    #dateMemoModal .modal-content { max-width: 560px !important; }
}

/* 세로 방향 최적화 */
@media (max-height: 600px) {
    .modal-content,
    .modal .modal-content {
        max-height: 85vh !important;
    }
    
    .modal-body,
    .modal .modal-body {
        max-height: calc(85vh - 140px) !important;
        overflow-y: auto !important;
        padding: 20px 24px !important;
    }
    
    .backup-section,
    .export-section,
    .storage-section {
        padding: 18px 20px !important;
        margin-bottom: 16px !important;
    }
}

/* 고해상도 디스플레이 최적화 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .modal-content,
    .modal .modal-content {
        border: 0.5px solid rgba(0, 0, 0, 0.1) !important;
    }
}